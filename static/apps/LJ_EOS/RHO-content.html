<script type='text/python'>
      from browser import window

      def gimmeRhoSimple(T, rhostr, Pstr, x, eos, doc):
        if doc["checkP"].checked:
          try:
            P = eval(Pstr)
          except (ValueError,SyntaxError) as err:
            window.alert("Trouble parsing P expression: {0}".format(err))
            return float("nan")
          rho = eos.rhoForProps(T, {'P': P})
        else:
          try:
            rho = eval(rhostr)
          except (ValueError,SyntaxError) as err:
            window.alert("Trouble parsing rho expression: {0}".format(err))
            return float("nan")
        return rho

      window.thisGimmeRho = gimmeRhoSimple
</script>
